=== V2 DEPLOYMENT LOG ===
Date: Fr 30 Mai 2025 12:56:29 CEST

V1 (main) commit:
735d247 Update main.py

V2 (refactor/prompts) commit:
56c6a12 docs: Update README and REFACTORING_PLAN for V2 production readiness

=== V1 vs V2 File Structure Comparison ===

V1 has src/flow/, src/agents/, etc.
V2 has src/v2/ with clean architecture

Current V1 structure (main branch):
drwxr-xr-x   6 philippkemper  staff   192 28 Mai 22:34 agents
drwxr-xr-x   4 philippkemper  staff   128 28 Mai 22:34 flow
drwxr-xr-x   9 philippkemper  staff   288 30 Mai 12:57 services

=== DEPLOYMENT EXECUTION ===
Timestamp: Fr 30 Mai 2025 12:58:21 CEST
Replacing main with refactor/prompts...

Reset successful at Fr 30 Mai 2025 12:58:52 CEST

=== VERIFICATION ===
Checking V2 structure on main:
drwxr-xr-x  11 philippkemper  staff   352 30 Mai 12:58 v2

=== REMOTE PUSH ===
Timestamp: Fr 30 Mai 2025 13:11:00 CEST
Pushed to GitHub: d9c54ca..56c6a12  main -> main
Scalingo auto-deploy triggered

=== PRODUCTION DEPLOYMENT ===
Platform: Scalingo (auto-deploy enabled)
Status: Deployment automatically triggered by GitHub push

=== DEPLOYMENT FIXES ===
Timestamp: Fr 30 Mai 2025 14:30:00 CEST

1. Fixed Scalingo SIGTERM issue:
   - Updated Procfile from src.main:app to src.v2.main:app
   - Fixed health check endpoint to respond immediately
   - Moved orchestrator initialization to startup event
   - Made WeaviateService initialization lazy

2. Fixed error message handling:
   - Created ValidationService for centralized validation
   - Removed validation logic from flow engine
   - Updated orchestrator to handle ValidationError properly
   - Fixed validation error mapping to show specific messages

3. Fixed email validation in ValidationService:
   - Updated email validation to check @ position and domain format
   - All validation tests now passing

Status: V2 deployed successfully to production with all critical fixes applied